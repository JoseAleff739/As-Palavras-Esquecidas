<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>As Palavras Esquecidas</title>
  <style>
    body {
      margin: 0;
      padding: 0;
      background: linear-gradient(to bottom, #f6f1e7, #eaddc1);
      font-family: 'Georgia', serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      height: 100vh;
      overflow-y: auto;
    }

    h1 {
      color: #3e2c1c;
      margin-top: 40px;
      text-shadow: 1px 1px 0px #fff;
      font-size: 2.2em;
    }

    h2, h3 {
      color: #3e2c1c;
      margin: 5px 0;
    }

    .area-jogo {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: #fffaf0;
      border: 3px solid #c7b299;
      border-radius: 15px;
      box-shadow: 0px 0px 20px rgba(0,0,0,0.1);
      padding: 20px 30px;
      margin-top: 20px;
      min-width: 320px;
      max-width: 90%;
      position: relative;
    }

    .container-letras {
      display: flex;
      gap: 10px;
      margin: 20px 0;
      flex-wrap: wrap;
      justify-content: center;
      max-width: 500px;
    }

    .letra {
      background: #fffbe6;
      border: 2px solid #c7b299;
      border-radius: 8px;
      padding: 12px 18px;
      font-size: 1.5em;
      cursor: pointer;
      transition: 0.2s;
      user-select: none;
    }

    .letra:hover {
      background: #f0e4d7;
      transform: scale(1.1);
    }

    .letra.usada {
      opacity: 0;
      transform: scale(0.7) rotate(-15deg);
      transition: 0.4s ease;
      pointer-events: none;
    }

    .caixa-resposta {
      min-height: 40px;
      font-size: 1.8em;
      border-bottom: 3px solid #3e2c1c;
      padding: 10px;
      text-align: center;
      margin-top: 10px;
      letter-spacing: 4px;
      transition: 0.3s;
      word-break: break-all;
    }

    .mensagem {
      margin-top: 15px;
      font-size: 1.2em;
      color: #3e2c1c;
      text-align: center;
      min-height: 1.5em;
    }

    button {
      background: #3e2c1c;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 5px;
      margin-top: 15px;
      cursor: pointer;
      transition: 0.3s;
      user-select: none;
    }

    button:hover {
      background: #5a3e27;
    }

    #botaoCorrigir {
      background: #a67c52;
      margin-top: 10px;
    }

    #botaoCorrigir:hover {
      background: #8c6239;
    }

    #botaoDica {
      position: absolute;
      top: 20px;
      right: 20px;
      background: transparent;
      border: none;
      cursor: pointer;
      font-size: 2em;
      color: #c7b299;
      transition: color 0.3s ease;
      user-select: none;
    }

    #botaoDica:hover:not(:disabled) {
      color: #a67c52;
    }

    #botaoDica:disabled {
      cursor: not-allowed;
      color: #eee;
      opacity: 0.5;
    }

    footer {
      margin-top: 20px;
      padding-bottom: 10px;
      font-size: 0.9em;
      color: #6b5841;
    }

    #tela-inicial {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background: linear-gradient(135deg, #8e7d5a, #c7b299);
      color: #fff;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 40px 20px;
      text-align: center;
      z-index: 9999;
      font-family: 'Georgia', serif;
    }

    #tela-inicial h1 {
      font-size: 3em;
      margin-bottom: 20px;
      text-shadow: 2px 2px 5px rgba(0,0,0,0.5);
    }

    #tela-inicial p {
      font-size: 1.3em;
      line-height: 1.5;
      max-width: 500px;
      margin-bottom: 40px;
      text-shadow: 1px 1px 3px rgba(0,0,0,0.4);
    }

    #btn-iniciar {
      background: #3e2c1c;
      padding: 15px 40px;
      font-size: 1.2em;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      transition: background 0.3s ease;
    }

    #btn-iniciar:hover {
      background: #5a3e27;
    }

    #dicaTexto {
      margin-top: 10px;
      font-style: italic;
      color: #7b6a40;
      min-height: 48px;
      max-width: 400px;
      text-align: center;
      user-select: none;
      white-space: pre-wrap;
    }

    #tela-final {
      position: fixed;
      top: 0; left: 0;
      width: 100vw;
      height: 100vh;
      background-color: rgba(0, 0, 0, 0.7);
      color: white;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      text-align: center;
      z-index: 10000;
      opacity: 0;
      visibility: hidden;
      transition: opacity 1s ease-in-out;
      font-family: 'Georgia', serif;
    }

    #tela-final.show {
      opacity: 1;
      visibility: visible;
    }

    #tela-final h2 {
      font-size: 3.5em;
      margin-bottom: 20px;
      color: #fff;
      text-shadow: 3px 3px 8px rgba(0,0,0,0.8);
      animation: bounceIn 1.5s ease-out;
    }
    
    #tela-final p {
        font-size: 1.8em;
        color: #f0e4d7;
        text-shadow: 2px 2px 5px rgba(0,0,0,0.6);
        animation: fadeIn 2s ease-out 0.5s forwards;
        opacity: 0;
    }

    /* Bot√£o de Reiniciar */
    #btn-reiniciar {
      background: #f0e4d7;
      color: #3e2c1c;
      padding: 15px 40px;
      font-size: 1.2em;
      border-radius: 10px;
      border: none;
      cursor: pointer;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      transition: all 0.3s ease;
      margin-top: 30px;
      font-family: 'Georgia', serif;
    }

    #btn-reiniciar:hover {
      background: #fff;
      transform: scale(1.05);
    }


    @keyframes bounceIn {
      0%, 20%, 40%, 60%, 80%, 100% {
        transition-timing-function: cubic-bezier(0.215, 0.610, 0.355, 1.000);
      }
      0% {
        opacity: 0;
        transform: scale3d(.3, .3, .3);
      }
      20% {
        transform: scale3d(1.1, 1.1, 1.1);
      }
      40% {
        transform: scale3d(.9, .9, .9);
      }
      60% {
        opacity: 1;
        transform: scale3d(1.03, 1.03, 1.03);
      }
      80% {
        transform: scale3d(.97, .97, .97);
      }
      100% {
        opacity: 1;
        transform: scale3d(1, 1, 1);
      }
    }

    @keyframes fadeIn {
        0% { opacity: 0; }
        100% { opacity: 1; }
    }

    .firework {
      position: absolute;
      width: 5px;
      height: 5px;
      background: white;
      border-radius: 50%;
      opacity: 0;
      animation: explode 1s ease-out forwards;
      transform: translate(-50%, -50%);
    }

    @keyframes explode {
      0% {
        transform: scale(0);
        opacity: 1;
      }
      10% {
        transform: scale(0.5);
      }
      100% {
        transform: scale(2);
        opacity: 0;
        box-shadow: 0 0 50px yellow, 0 0 20px orange, 0 0 10px red;
      }
    }

  </style>
</head>
<body>

  <div id="tela-inicial">
    <h1>üìñ As Palavras Esquecidas</h1>
    <p>Bem-vindo ao jogo de ca√ßa-palavras embaralhado!<br>
    H√° muito tempo, as palavras que viviam dentro dos livros se perderam.
    Sem elas, as hist√≥rias se calaram, as p√°ginas ficaram vazias e a imagina√ß√£o adormeceu.<br>
    Agora, cabe a voc√™ encontr√°-las novamente.
    Recupere as palavras esquecidas‚Ä¶ E fa√ßa com que os livros voltem a contar suas hist√≥rias. ‚ú®</p>
    <button id="btn-iniciar">Come√ßar</button>
  </div>

  <h1>üìñ As Palavras Esquecidas</h1>
  
  <h2 id="capitulo">Cap√≠tulo 1/10</h2> 
  <h3 id="palavraContador">Palavra 1/9</h3> 
  <h3 id="pontuacao">Pontua√ß√£o: 0</h3>

  <div class="area-jogo" id="area-jogo">
    <p>Monte a palavra correta clicando nas letras na ordem certa!</p>
    <div id="caixaResposta" class="caixa-resposta"></div>
    <div id="containerLetras" class="container-letras"></div>
    <div id="mensagem" class="mensagem"></div>

    <div id="dicaTexto"></div>

    <button id="botaoDica" title="Usar dica" aria-label="Usar dica">üí°</button>
    <button id="botaoCorrigir">Corrigir Letra</button>
  </div>

  
<div id="tela-final">
    <h2>Parab√©ns, desbravador de palavras!</h2>
    <p>Voc√™ restaurou todas as palavras esquecidas e fez os livros cantarem novamente. Sua pontua√ß√£o final: <span id="pontuacaoFinal">0</span></p>
    <button id="btn-reiniciar">Jogar Novamente</button>
  </div>

  <script>
    const telaInicial = document.getElementById('tela-inicial');
    const btnIniciar = document.getElementById('btn-iniciar');
    const areaJogo = document.getElementById('area-jogo');
    const telaFinal = document.getElementById('tela-final');
    const pontuacaoFinalSpan = document.getElementById('pontuacaoFinal');
    const btnReiniciar = document.getElementById('btn-reiniciar'); // Pega o bot√£o de reiniciar

    areaJogo.style.display = 'none';  
   
    let palavras = [
      "livro","p√°gina","capa","texto","leitura","cap√≠tulo","conto","fic√ß√£o","hist√≥ria",
      "enredo","personagem","narrativa","verso","poema","romance","autor","biblioteca",
      "prateleira","papel","cl√°ssico","manuscrito","cita√ß√£o","pref√°cio","par√°grafo",
      "letra","palavras","senten√ßa","di√°logo","rima","soneto","tema","cr√¥nica","drama",
      "f√°bula","ilustra√ß√£o","editora","√≠ndice","t√≠tulo","resumo","poesia","√°lbum","artigo",
      "autoridade","biografia","cole√ß√£o","cronologia","dedicat√≥ria","edi√ß√£o",
      "escritor","exemplar","ficha","folha","historiador","ilustrador",
      "impress√£o","inciso","in√≠cio","literatura","marca√ß√£o","melodia","met√°fora",
      "narrador","nota","obras","prosa","publica√ß√£o","quadro","revis√£o","r√≥tulo","se√ß√£o",
      "s√≠ntese","subt√≠tulo","sum√°rio","s√≠mbolo","tese","vers√≠culo","volume",
      "ensaio","est√≥ria","gram√°tica","liter√°rio","m√©trica","novela","objeto",
      "par√≥dia","pl√°gio","teatro"
    ];

    const dicasPoeticas = {
      "livro": "üìö O relic√°rio onde o tempo repousa em folhas escritas.",
      "p√°gina": "üçÇ Uma folha que guarda segredos e sonhos por desvendar.",
      "capa": "üõ°Ô∏è A armadura que protege as hist√≥rias internas.",
      "texto": "‚úíÔ∏è A dan√ßa silenciosa dos pensamentos na folha branca.",
      "leitura": "üëÅÔ∏è O ato sagrado de dar vida ao que est√° escrito.",
      "cap√≠tulo": "üìñ O portal que divide uma jornada liter√°ria em etapas.",
      "conto": "üåô Um lampejo breve de fantasia e realidade entrela√ßados.",
      "fic√ß√£o": "ü¶Ñ O reino invis√≠vel onde o imposs√≠vel se torna real.",
      "hist√≥ria": "‚è≥ O eco das vidas passadas sussurrado nas p√°ginas.",
      "enredo": "üß© O fio invis√≠vel que tece a trama oculta da narrativa.",
      "personagem": "üé≠ A alma que habita as palavras e ganha vida em nossa mente.",
      "narrativa": "üó∫Ô∏è A trilha que guia o leitor pelo bosque das palavras.",
      "verso": "üåø O suspiro melodioso que habita a poesia.",
      "poema": "üí´ Um cristal de emo√ß√µes lapidado em palavras.",
      "romance": "‚ù§Ô∏è O encontro entre cora√ß√µes escrito nas entrelinhas.",
      "autor": "‚úçÔ∏è O mago que conjura mundos com tinta e papel.",
      "biblioteca": "üèõÔ∏è O templo sagrado onde moram infinitas hist√≥rias.",
      "prateleira": "üìö Onde os livros sonham, enfileirados em sil√™ncio.",
      "papel": "üìú A tela em branco onde a tinta desenha o pensamento.",
      "cl√°ssico": "üèõÔ∏è A obra que sobrevive ao tempo e ecoa atrav√©s das eras.",
      "manuscrito": "üìú O pergaminho que guarda segredos ancestrais.",
      "cita√ß√£o": "üó£Ô∏è Um fragmento de sabedoria que viaja de um livro para outro.",
      "pref√°cio": "üö™ O portal que antecede a jornada, escrito por quem j√° a conhece.",
      "par√°grafo": "üîó O elo que organiza pensamentos em corrente clara.",
      "letra": "A O tijolo fundamental que constr√≥i o pal√°cio das palavras.",
      "palavras": "üó£Ô∏è Os fios de som e sentido que tecem a realidade.",
      "senten√ßa": "üìú A corrente de palavras que aprisiona uma ideia completa.",
      "di√°logo": "üí¨ O encontro entre vozes que constr√≥i mundos.",
      "rima": "üéµ O eco que une sons e sentidos em dan√ßa perfeita.",
      "soneto": "üñãÔ∏è Um poema de catorze versos, onde a forma e a emo√ß√£o se encontram.",
      "tema": "üí° A ideia central, o cora√ß√£o que pulsa por baixo do texto.",
      "cr√¥nica": "üì∞ O espelho do cotidiano, refletido com arte e leveza.",
      "drama": "üé≠ O palco onde as emo√ß√µes se vestem de luz e sombra.",
      "f√°bula": "ü¶ä A li√ß√£o travestida em hist√≥ria simples e encantada.",
      "ilustra√ß√£o": "üé® A pincelada que d√° cor aos pensamentos silenciosos.",
      "editora": "üè≠ A casa que veste as palavras e as apresenta ao mundo.",
      "√≠ndice": "üó∫Ô∏è O mapa que aponta o caminho para os tesouros escondidos no livro.",
      "t√≠tulo": "üè∑Ô∏è O nome que batiza a obra e convida √† leitura.",
      "resumo": "üîç A ess√™ncia da hist√≥ria, contada em poucas e valiosas linhas.",
      "poesia": "ü¶ã A linguagem da alma, que faz o cora√ß√£o voar com palavras.",
      "√°lbum": "üñºÔ∏è O guardi√£o de mem√≥rias, onde imagens contam hist√≥rias sem voz.",
      "artigo": "üì∞ Um texto breve que opina ou informa sobre o mundo.",
      "autoridade": "üëë A voz de mestre que fala com profundo conhecimento.",
      "biografia": "‚è≥ A hist√≥ria de uma vida, contada do in√≠cio ao fim.",
      "cole√ß√£o": "üìö Um conjunto de obras reunidas por um la√ßo em comum.",
      "cronologia": "üï∞Ô∏è A linha do tempo que organiza os fatos em sua devida ordem.",
      "dedicat√≥ria": "üíå A mensagem de carinho escrita antes da primeira p√°gina.",
      "edi√ß√£o": "üîÑ A vers√£o de uma obra, polida e preparada para o leitor.",
      "escritor": "üñãÔ∏è O artes√£o de sonhos moldados em letras.",
      "exemplar": "üìò A c√≥pia √∫nica pronta para ser descoberta.",
      "ficha": "üìá A identidade resumida de uma obra ou autor.",
      "folha": "üçÉ O mesmo que 'p√°gina', uma face do papel que vira.",
      "historiador": "üïµÔ∏è‚Äç‚ôÇÔ∏è O guardi√£o do tempo que revela o passado.",
      "ilustrador": "üé® A m√£o que pinta imagens nos livros da alma.",
      "impress√£o": "üñ®Ô∏è O toque final que eterniza palavras no papel.",
      "inciso": "üîç O detalhe escondido que muda o todo sutilmente.",
      "in√≠cio": "üåÖ O ponto de partida de toda grande aventura liter√°ria.",
      "literatura": "üå≥ A floresta onde as ideias crescem e florescem eternamente.",
      "marca√ß√£o": "üìå O sinal que destaca o essencial no livro da vida.",
      "melodia": "üéº O som invis√≠vel que ressoa nas letras e versos.",
      "met√°fora": "ü¶ã A ponte sutil entre o real e o imaginado.",
      "narrador": "üó£Ô∏è A voz que guia pela estrada encantada das palavras.",
      "nota": "üìù O sussurro do autor para o leitor atento.",
      "obras": "üèõÔ∏è Os monumentos liter√°rios que resistem ao tempo.",
      "prosa": "üìú O rio tranquilo onde as palavras fluem livres e descompassadas.",
      "publica√ß√£o": "üöÄ O lan√ßamento das palavras rumo ao infinito.",
      "quadro": "üñºÔ∏è A moldura que delimita uma cena ou ideia.",
      "revis√£o": "üîß O polimento que torna a escrita brilhante e clara.",
      "r√≥tulo": "üè∑Ô∏è A etiqueta que classifica e define hist√≥rias.",
      "se√ß√£o": "‚úÇÔ∏è O recorte que organiza o livro em partes claras.",
      "s√≠ntese": "üß¨ O extrato mais puro de uma ideia complexa.",
      "subt√≠tulo": "üìå O segredo que sussurra por baixo do t√≠tulo principal.",
      "sum√°rio": "üìë A lista que organiza os cap√≠tulos e suas moradas.",
      "s√≠mbolo": "üî£ A imagem que carrega sentidos profundos e misteriosos.",
      "tese": "üéì A ideia que desafia o pensamento e abre novos caminhos.",
      "vers√≠culo": "üìñ O pequeno fragmento sagrado das escrituras antigas.",
      "volume": "üìö O corpo f√≠sico que guarda universos em suas p√°ginas.",
      "ensaio": "üñãÔ∏è O convite √† reflex√£o, um di√°logo com a pr√≥pria alma.",
      "est√≥ria": "üïØÔ∏è O nome antigo das hist√≥rias contadas ao redor do fogo.",
      "gram√°tica": "üìê A estrutura invis√≠vel que sustenta a l√≠ngua viva.",
      "liter√°rio": "‚ú® O brilho que transforma o comum em arte sublime.",
      "m√©trica": "üéº O compasso que regula a dan√ßa das palavras faladas.",
      "novela": "üì∫ A narrativa longa que vive entre cap√≠tulos e emo√ß√µes.",
      "objeto": "üè∫ O item que conta sua hist√≥ria mesmo em sil√™ncio.",
      "par√≥dia": "üé≠ A risada que revela verdades atrav√©s da imita√ß√£o.",
      "pl√°gio": "üö´ O ato sombrio de roubar palavras alheias.",
      "teatro": "üé≠ O espa√ßo onde as hist√≥rias ganham corpo e voz."
    };

    let palavraAtual = "";
    let letrasUsadas = [];
    let respostaAtual = "";
    let pontuacao = 0;
    let dicaUsada = 0; 

    let capituloAtual = 1;
    let palavraAtualDoCapitulo = 1;
    let palavrasDoJogo = []; 
    let indicePalavraAtual = 0; 
    
    const totalCapitulos = 10; 
    const palavrasPorCapitulo = 9; 

    const containerLetras = document.getElementById('containerLetras');
    const caixaResposta = document.getElementById('caixaResposta');
    const mensagem = document.getElementById('mensagem');
    const pontuacaoTexto = document.getElementById('pontuacao');
    const capituloTexto = document.getElementById('capitulo');
    const palavraContadorTexto = document.getElementById('palavraContador'); 
    const botaoCorrigir = document.getElementById('botaoCorrigir');
    const botaoDica = document.getElementById('botaoDica');
    const dicaTexto = document.getElementById('dicaTexto');

    function embaralharArray(array) {
      let arrayCopiado = [...array]; 
      for (let i = arrayCopiado.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [arrayCopiado[i], arrayCopiado[j]] = [arrayCopiado[j], arrayCopiado[i]];
      }
      return arrayCopiado;
    }

    function embaralharLetras(array) {
      for (let i = array.length - 1; i > 0; i--) {
        const j = Math.floor(Math.random() * (i + 1));
        [array[i], array[j]] = [array[j], array[i]];
      }
      return array;
    }

    function iniciarNovoJogo() {
      capituloAtual = 1;
      palavraAtualDoCapitulo = 1;
      pontuacao = 0;
      indicePalavraAtual = 0;
      palavrasDoJogo = embaralharArray(palavras);
      
      novaPalavra(); 
    }

    btnIniciar.onclick = () => {
      telaInicial.style.display = 'none';  
      areaJogo.style.display = 'flex';    
      iniciarNovoJogo(); 
    };

    // Listener para o bot√£o de reiniciar
    btnReiniciar.onclick = () => {
      telaFinal.classList.remove('show');
      // Remove quaisquer fogos de artif√≠cio restantes
      telaFinal.querySelectorAll('.firework').forEach(fw => fw.remove());
      iniciarNovoJogo();
    };


    function mostrarTelaFinal() {
      pontuacaoFinalSpan.textContent = pontuacao; 
      telaFinal.classList.add('show'); 
      
      for (let i = 0; i < 30; i++) { 
        setTimeout(() => {
          const firework = document.createElement('div');
          firework.classList.add('firework');
          firework.style.left = `${Math.random() * 100}vw`; 
          firework.style.top = `${Math.random() * 100}vh`; 
          
          const colors = ['#FFD700', '#FF4500', '#ADFF2F', '#00BFFF', '#FF69B4'];
          firework.style.boxShadow = `0 0 50px ${colors[Math.floor(Math.random() * colors.length)]}, 0 0 20px ${colors[Math.floor(Math.random() * colors.length)]}`;
          
          telaFinal.appendChild(firework);
          
          setTimeout(() => {
            firework.remove();
          }, 1000); 
        }, Math.random() * 3000); 
      }
      // O rein√≠cio autom√°tico foi removido
    }


    function novaPalavra() {
      botaoDica.disabled = false;
      botaoCorrigir.disabled = false;
      containerLetras.style.pointerEvents = 'auto'; 

      // Verifica se o √≠ndice atingiu o total de palavras (90)
      if (indicePalavraAtual >= palavrasDoJogo.length) {
        mostrarTelaFinal();
        return; 
      }

      // Esta verifica√ß√£o tamb√©m funciona, pois 10 * 9 = 90
      if (capituloAtual > totalCapitulos) {
        mostrarTelaFinal();
        return; 
      }

      dicaUsada = 0;
      dicaTexto.textContent = "";

      palavraAtual = palavrasDoJogo[indicePalavraAtual]; 
      
      letrasUsadas = [];
      respostaAtual = "";
      caixaResposta.textContent = "";
      mensagem.textContent = "";

      capituloTexto.textContent = `Cap√≠tulo ${capituloAtual}/${totalCapitulos}`;
      palavraContadorTexto.textContent = `Palavra ${palavraAtualDoCapitulo}/${palavrasPorCapitulo}`;
      pontuacaoTexto.textContent = `Pontua√ß√£o: ${pontuacao}`;

      let letras = palavraAtual.split('');
      letras = embaralharLetras(letras); 
      containerLetras.innerHTML = "";

      letras.forEach((letra, i) => {
        const spanLetra = document.createElement('span');
        spanLetra.classList.add('letra');
        spanLetra.textContent = letra;
        spanLetra.onclick = () => selecionarLetra(i);
        containerLetras.appendChild(spanLetra);
      });
    }

    function selecionarLetra(indice) {
      if (containerLetras.children[indice].classList.contains('usada')) return;
      let letra = containerLetras.children[indice].textContent;
      respostaAtual += letra;
      letrasUsadas.push(indice);
      containerLetras.children[indice].classList.add('usada');
      caixaResposta.textContent = respostaAtual;
      mensagem.textContent = "";

      if (respostaAtual.length === palavraAtual.length) {
        verificarResposta();
      }
    }

    function verificarResposta() {
      if (respostaAtual.toLowerCase() === palavraAtual.toLowerCase()) {
        let pontosGanhos;
        if (dicaUsada === 0) pontosGanhos = 10;
        else if (dicaUsada === 1) pontosGanhos = 5;
        else pontosGanhos = 3;

        pontuacao += pontosGanhos;
        mensagem.textContent = `‚ú® Voc√™ acertou! +${pontosGanhos} pontos.`;
        pontuacaoTexto.textContent = `Pontua√ß√£o: ${pontuacao}`;
        
        botaoDica.disabled = true;
        botaoCorrigir.disabled = true;
        containerLetras.style.pointerEvents = 'none';

        palavraAtualDoCapitulo++;
        indicePalavraAtual++;

        if (palavraAtualDoCapitulo > palavrasPorCapitulo) {
          capituloAtual++;
          palavraAtualDoCapitulo = 1; 
          
          if(capituloAtual <= totalCapitulos && indicePalavraAtual < palavrasDoJogo.length) {
              mensagem.textContent = `üéâ Cap√≠tulo ${capituloAtual-1} completo! Preparando pr√≥ximo...`;
          }
        }
        
        setTimeout(novaPalavra, 2000); 

      } else {
        const pontosPerdidos = 5;
        pontuacao -= pontosPerdidos;

        mensagem.textContent = `‚ùå Incorreto! -${pontosPerdidos} pontos. A palavra era "${palavraAtual}".`;
        pontuacaoTexto.textContent = `Pontua√ß√£o: ${pontuacao}`;
        
        botaoDica.disabled = true;
        botaoCorrigir.disabled = true; 
        containerLetras.style.pointerEvents = 'none';

        palavraAtualDoCapitulo++;
        indicePalavraAtual++;

        if (palavraAtualDoCapitulo > palavrasPorCapitulo) {
            capituloAtual++;
            palavraAtualDoCapitulo = 1;
            
            if(capituloAtual <= totalCapitulos && indicePalavraAtual < palavrasDoJogo.length) {
                mensagem.textContent += `\nüéâ Preparando pr√≥ximo cap√≠tulo...`;
            }
        }
        
        setTimeout(novaPalavra, 3000); 
      }
    }

    botaoCorrigir.onclick = () => {
      if (respostaAtual.length === 0) return;
      let ultimaLetraIndex = letrasUsadas.pop();
      respostaAtual = respostaAtual.slice(0, -1);
      caixaResposta.textContent = respostaAtual;
      containerLetras.children[ultimaLetraIndex].classList.remove('usada');
      mensagem.textContent = "";
    };

    botaoDica.onclick = () => {
      if (dicaUsada === 0) {
        dicaUsada = 1;
        botaoDica.disabled = false; 
        let dica = dicasPoeticas[palavraAtual];
        if (dica) {
          dicaTexto.textContent = dica;
          mensagem.textContent = "üí° Dica po√©tica usada: pontua√ß√£o ser√° 5 pontos.";
        } else {
          dicaTexto.textContent = "Nenhuma dica dispon√≠vel para esta palavra.";
          mensagem.textContent = "";
        }
      } else if (dicaUsada === 1) {
        dicaUsada = 2;
        botaoDica.disabled = true; 

        let primeiraLetra = palavraAtual[0].toUpperCase();
        let dicaAtual = dicasPoeticas[palavraAtual] || ""; 
        
        dicaTexto.textContent = `${dicaAtual}\nüîë A chave secreta que abre o mist√©rio √© a letra "${primeiraLetra}".`;
        mensagem.textContent = "üí° Segunda dica usada: pontua√ß√£o ser√° 3 pontos.";
      }
    };
  </script>

  <footer>¬© 2025 As Palavras Esquecidas</footer>
</body>
</html>
